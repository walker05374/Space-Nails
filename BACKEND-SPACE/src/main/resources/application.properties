# ===============================================================
# NOME DA APLICACAO
# ===============================================================
spring.application.name=cantinho_emocoes

# Porta do servidor (Pega a do Render automaticamente ou usa 8080/9090 local)
server.port=${PORT:8080}

# ===============================================================
# CONFIGURACAO DO BANCO DE DADOS (RENDER)
# ===============================================================
# Nota: Configurado para o banco 'cantinho' no Render
# O sslmode=require é obrigatorio para conexoes externas no Render
spring.datasource.url=jdbc:postgresql://dpg-d4nd8f3e5dus739294k0-a.oregon-postgres.render.com:5432/cantinho?sslmode=require
spring.datasource.username=layanne
spring.datasource.password=Ud8NRpbMSCvBWi9hMeR9T9IsSvrbcSGG
spring.datasource.driver-class-name=org.postgresql.Driver

# ===============================================================
# CONFIGURACAO DO JPA/HIBERNATE
# ===============================================================
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# 'update': Essencial para o seu caso. Ele mantem os dados.
# Isso permitira que voce restaure o backup e a aplicacao apenas
# valide a estrutura sem apagar nada.
spring.jpa.hibernate.ddl-auto=update

spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# ===============================================================
# CONFIGURACOES DE SEGURANCA (JWT)
# ===============================================================
application.security.jwt.secret-key=O3deCIwpL68msJftgHIhCRD7c8cdXohZPPP8EtzLSxs=
application.security.jwt.expiration=86400000

# ===============================================================
# CONFIGURACOES DE E-MAIL
# ===============================================================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=ytmesjajaneiro@gmail.com
# Senha de app do Gmail
spring.mail.password=oodlgktopiiujunh
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.connectiontimeout=5000
spring.mail.properties.mail.timeout=3000
spring.mail.properties.mail.writetimeout=5000

# ===============================================================
# URL DO FRONTEND (AUTOMATICO)
# ===============================================================
# Se existir a variavel FRONTEND_URL no Render, usa ela.
# Senao, usa localhost (para links de email, por exemplo).
app.frontend.url=${FRONTEND_URL:http://localhost:5173}

# ===============================================================
# LOGGING
# ===============================================================
logging.level.root=INFO
logging.level.org.springframework.web=INFO
logging.level.com.cantinho_emocoes=DEBUG

# ===============================================================
# CONFIGURACOES DE UPLOAD DE ARQUIVO (CORRECAO DO ERRO 500)
# ===============================================================
# Aumenta o limite para 50MB para permitir o upload do backup SQL
spring.servlet.multipart.max-file-size=500MB

# Define o tamanho máximo total da requisição (caso envie múltiplos arquivos)
spring.servlet.multipart.max-request-size=500MB